{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Civic Companion - Your Trusted Legal Guide</title>
  <meta name="description"
    content="Learn the Law, Guard your Rights, Grab the Schemes in your sights - Your complete guide to Indian laws, human rights, and government schemes." />
  <link rel="icon" href="{% static 'images/icon.png' %}" alt="#icon" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="{% static 'style.css' %}" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <style>
    /* Hero Section Styles */
    .hero-section {
      min-height: calc(100vh - 76px);
      display: flex;
      align-items: center;
      position: relative;
      overflow: hidden;
      background: linear-gradient(135deg, #FAFAFA 0%, #F5F5F5 50%, #EFEFEF 100%);
      margin-top: 76px;
    }

    .hero-container {
      width: 90%;
      max-width: 1400px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 60px;
      align-items: center;
      padding: 60px 0;
    }

    .hero-content {
      z-index: 2;
    }

    .hero-tagline {
      font-family: 'Inter', sans-serif;
      font-size: 0.875rem;
      font-weight: 500;
      color: #8B1538;
      text-transform: uppercase;
      letter-spacing: 2px;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .hero-tagline::before {
      content: '';
      width: 40px;
      height: 2px;
      background: #8B1538;
    }

    .hero-title {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: clamp(2.5rem, 5vw, 4rem);
      font-weight: 700;
      color: #1A1A1A;
      line-height: 1.1;
      margin: 0 0 24px 0;
      letter-spacing: -0.02em;
    }

    .hero-title span {
      color: #8B1538;
    }

    .hero-description {
      font-family: 'Inter', sans-serif;
      font-size: 1.0625rem;
      color: #666666;
      line-height: 1.7;
      margin: 0 0 36px 0;
      max-width: 480px;
    }

    .hero-buttons {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    .btn-primary {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 14px 28px;
      background: #8B1538;
      color: white;
      text-decoration: none;
      border-radius: 8px;
      font-family: 'Inter', sans-serif;
      font-size: 0.9375rem;
      font-weight: 500;
      transition: all 0.25s ease;
      border: 2px solid #8B1538;
    }

    .btn-primary:hover {
      background: #6D1029;
      border-color: #6D1029;
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(139, 21, 56, 0.25);
    }

    .btn-secondary {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 14px 28px;
      background: transparent;
      color: #1A1A1A;
      text-decoration: none;
      border-radius: 8px;
      font-family: 'Inter', sans-serif;
      font-size: 0.9375rem;
      font-weight: 500;
      transition: all 0.25s ease;
      border: 2px solid #E5E5E5;
    }

    .btn-secondary:hover {
      border-color: #8B1538;
      color: #8B1538;
      transform: translateY(-2px);
    }

    .hero-image {
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .hero-image img {
      max-width: 100%;
      height: auto;
      max-height: 600px;
      object-fit: contain;
      filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.15));
    }

    .hero-stats {
      position: absolute;
      bottom: 40px;
      right: 0;
      background: white;
      padding: 20px 28px;
      border-radius: 12px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .stat-number {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      font-weight: 700;
      color: #8B1538;
    }

    .stat-label {
      font-size: 0.875rem;
      color: #666;
      line-height: 1.4;
    }

    /* Services Section */
    .services-section {
      padding: 80px 0;
      background: white;
    }

    .section-header {
      text-align: center;
      max-width: 600px;
      margin: 0 auto 50px;
    }

    .section-subtitle {
      font-family: 'Inter', sans-serif;
      font-size: 0.875rem;
      font-weight: 500;
      color: #8B1538;
      text-transform: uppercase;
      letter-spacing: 2px;
      margin-bottom: 12px;
    }

    .section-title {
      font-family: 'Playfair Display', serif;
      font-size: clamp(1.75rem, 3vw, 2.25rem);
      font-weight: 600;
      color: #1A1A1A;
      margin: 0;
    }

    .services-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 30px;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 5%;
    }

    .service-card {
      background: #FAFAFA;
      border: 1px solid #E5E5E5;
      border-radius: 16px;
      padding: 40px 30px;
      text-align: center;
      text-decoration: none;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .service-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: #8B1538;
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }

    .service-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      border-color: #8B1538;
    }

    .service-card:hover::before {
      transform: scaleX(1);
    }

    .service-icon {
      width: 70px;
      height: 70px;
      background: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 24px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    }

    .service-icon i {
      font-size: 1.75rem;
      color: #8B1538;
    }

    .service-card h3 {
      font-family: 'Playfair Display', serif;
      font-size: 1.375rem;
      font-weight: 600;
      color: #1A1A1A;
      margin: 0 0 12px;
    }

    .service-card p {
      font-size: 0.9375rem;
      color: #666;
      line-height: 1.6;
      margin: 0;
    }

    .service-card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-radius: 12px;
      margin-bottom: 20px;
    }

    /* About Section */
    .about-section {
      padding: 80px 0;
      background: #FAFAFA;
    }

    .about-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 5%;
    }

    .about-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 60px;
      align-items: center;
    }

    .about-image {
      position: relative;
    }

    .about-image img {
      width: 100%;
      border-radius: 16px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }

    .about-content h2 {
      font-family: 'Playfair Display', serif;
      font-size: clamp(1.75rem, 3vw, 2.25rem);
      font-weight: 600;
      color: #1A1A1A;
      margin: 0 0 24px;
    }

    .about-content p {
      font-size: 1rem;
      color: #666;
      line-height: 1.8;
      margin: 0 0 24px;
    }

    .about-features {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-top: 30px;
    }

    .feature-item {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .feature-item i {
      width: 24px;
      height: 24px;
      background: #8B1538;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
    }

    .feature-item span {
      font-size: 0.9375rem;
      color: #333;
      font-weight: 500;
    }

    /* Contact Section */
    .contact-section-home {
      padding: 80px 0;
      background: white;
    }

    /* Responsive */
    @media (max-width: 992px) {
      .hero-container {
        grid-template-columns: 1fr;
        text-align: center;
        gap: 40px;
      }

      .hero-content {
        order: 2;
      }

      .hero-image {
        order: 1;
      }

      .hero-tagline {
        justify-content: center;
      }

      .hero-description {
        margin-left: auto;
        margin-right: auto;
      }

      .hero-buttons {
        justify-content: center;
      }

      .hero-stats {
        position: relative;
        bottom: auto;
        right: auto;
        margin: 30px auto 0;
        justify-content: center;
      }

      .services-grid {
        grid-template-columns: 1fr;
        max-width: 400px;
      }

      .about-grid {
        grid-template-columns: 1fr;
      }

      .about-image {
        order: 1;
      }

      .about-content {
        order: 2;
        text-align: center;
      }

      .about-features {
        justify-content: center;
      }
    }

    @media (max-width: 576px) {
      .hero-section {
        margin-top: 70px;
      }

      .hero-title {
        font-size: 2rem;
      }

      .hero-buttons {
        flex-direction: column;
        align-items: center;
      }

      .btn-primary,
      .btn-secondary {
        width: 100%;
        justify-content: center;
      }

      .hero-stats {
        flex-direction: column;
        text-align: center;
        gap: 10px;
      }

      .about-features {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>
  <!-- Navigation Bar -->
  <div class="bar" id="bar">
    <div style="display: flex; align-items: center;">
      <div class="head-logo">
        <img src="{% static 'images/logo.png' %}" alt="Civic Companion" />
      </div>
      <h2>Civic Companion</h2>
    </div>

    <!-- Hamburger Icon -->
    <div class="hamburger-menu" id="hamburger-menu">
      <div class="line"></div>
      <div class="line"></div>
      <div class="line"></div>
    </div>

    <!-- Navigation Menu -->
    <nav class="nav-menu" id="nav-menu">
      <ul>
        <li><a href="{% url 'home' %}">Home</a></li>
        <li><a href="{% url 'category' %}">Services</a></li>
        <li><a href="{% url 'offerings' %}">Offerings</a></li>
        <li><a href="{% url 'about' %}">About</a></li>
        <li><a href="{% url 'contact' %}">Contact</a></li>
      </ul>
    </nav>

    <!-- Menu Tabs -->
    <div class="body">
      <div class="nav-links">
        <a href="{% url 'home' %}" class="nav-item active">Home</a>
        <a href="{% url 'offerings' %}" class="nav-item">Offerings</a>
        <a href="{% url 'about' %}" class="nav-item">About</a>
        <a href="{% url 'contact' %}" class="nav-item">Contact</a>
      </div>
    </div>
  </div>

  <!-- Hero Section -->
  <section class="hero-modern" id="hero">
    <div class="container hero-container">
      <div class="hero-text-content">
        <h1 class="hero-headline">FIRST LEGAL<br>GUIDANCE YOU<br>SHOULD TRUST</h1>
        <p class="hero-subhead">Helping individuals and businesses move forward with trusted legal strategies and proven
          results.</p>
        <div class="hero-buttons">
          <a href="{% url 'offerings' %}" class="btn-primary">Get Started <i class="fas fa-arrow-right"></i></a>
          <button id="chatbot-open-btn" class="btn-secondary">Chatbot <i class="fas fa-comment-dots"></i></button>
        </div>
      </div>
      <div class="hero-visuals">
        <div class="statue-container">
          <img src="{% static 'images/hero_statue.png' %}" alt="Lady Justice" class="hero-statue">
        </div>
      </div>
    </div>
  </section>

  <!-- Chatbot Modal -->
  <div class="chat-modal-overlay" id="chat-modal-overlay">
    <div class="chat-modal">
      <div class="chat-header">
        <span>Legal Assistant</span>
        <button class="chat-close-btn" id="chat-close-btn"><i class="fas fa-times"></i></button>
      </div>
      <div class="chat-body" id="chat-body">
        <div class="chat-message bot">
          Hello! I am your legal assistant. Ask me anything about sections, acts, or rights in our database.
        </div>
      </div>
      <div class="chat-footer">
        <input type="text" class="chat-input" id="chat-input" placeholder="Type your question...">
        <button class="chat-send-btn" id="chat-send-btn"><i class="fas fa-paper-plane"></i></button>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <p>&copy; 2026 Civic Companion. All rights reserved.</p>
    </div>
  </footer>

  <script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({ pageLanguage: 'en', includedLanguages: 'en,ta,ml,te,hi', layout: google.translate.TranslateElement.InlineLayout.SIMPLE }, 'google_translate_element');
    }
  </script>
  <script type="text/javascript"
    src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
  <script src="{% static 'assets/script.js' %}"></script>
  <script>
    // Chatbot Logic
    document.addEventListener('DOMContentLoaded', function () {
      const modal = document.getElementById('chat-modal-overlay');
      const openBtn = document.getElementById('chatbot-open-btn');
      const closeBtn = document.getElementById('chat-close-btn');
      const sendBtn = document.getElementById('chat-send-btn');
      const input = document.getElementById('chat-input');
      const chatBody = document.getElementById('chat-body');

      // Open Modal
      if (openBtn) {
        openBtn.addEventListener('click', function (e) {
          e.preventDefault();
          modal.classList.add('open'); // Use class for transition
          input.focus();
        });
      }

      // Close Modal
      closeBtn.addEventListener('click', () => {
        modal.classList.remove('open');
      });

      // Close on outside click
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          modal.classList.remove('open');
        }
      });

      // Send Message
      function sendMessage() {
        const query = input.value.trim();
        if (!query) return;

        // Add User Message
        appendMessage(query, 'user');
        input.value = '';

        // Loading state
        const loadingId = appendMessage('<span class="typing-dots">Searching</span>', 'bot', true);

        // Fetch Response
        fetch(`/chatbot/?message=${encodeURIComponent(query)}`)
          .then(response => response.json())
          .then(data => {
            // Remove loading message
            const loadingMsg = document.getElementById(loadingId);
            if (loadingMsg) loadingMsg.remove();

            // Add Bot Response
            appendMessage(data.response, 'bot', true);
          })
          .catch(error => {
            console.error('Error:', error);
            const loadingMsg = document.getElementById(loadingId);
            if (loadingMsg) loadingMsg.remove();
            appendMessage("Sorry, something went wrong. Please try again.", 'bot');
          });
      }

      sendBtn.addEventListener('click', sendMessage);
      input.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') sendMessage();
      });

      function appendMessage(text, sender, isHTML = false) {
        const msgDiv = document.createElement('div');
        msgDiv.classList.add('chat-message', sender);
        if (isHTML) {
          msgDiv.innerHTML = text;
        } else {
          msgDiv.textContent = text;
        }

        // Generate unique ID for removal if needed (like loading)
        const id = 'msg-' + Date.now();
        msgDiv.id = id;

        chatBody.appendChild(msgDiv);
        chatBody.scrollTop = chatBody.scrollHeight;
        return id;
      }
    });

    // Hamburger menu toggle
    document.getElementById('hamburger-menu').addEventListener('click', function () {
      this.classList.toggle('active');
      document.getElementById('nav-menu').classList.toggle('active');
    });

    // Smooth scroll for nav links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth' });
        }
      });
    });
  </script>
</body>

</html>